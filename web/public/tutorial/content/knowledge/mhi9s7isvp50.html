<h1 id="NNJvrOqbH6euWF0iqTlfN5" class="no-font-size">一、商店的定义</h1><p id="NweSgVuWi8Wg6qBTJ9fPlN">商店是一种提供虚拟物品交易的模块，以组件的形式挂接在实体上。</p><p id="N19ciFlJo8FICQuc2Mz110" data-block-mark="{}">用户可以自定义一个商店可交易的虚拟物品品类（支持道具、装备、货币），并配置对应的出售和购入价格，在游戏运行时，玩家可以通过交互商店界面进行实际的买入卖出行为</p><h1 id="Nuqv94dl02UjSrSPs8HV2C" data-block-mark="{}" class="no-font-size">二、商店的类型</h1><p id="NQmz_kb1FINhCllppD_e-h" data-block-mark="{}">商店分为两种基础类型：</p><p id="N30Vkdd92uNFsuektgbnNr" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>自定义商品商店</em></span>：该类商店可以脱离商店持有者的背包信息，自由配置一份商店模板，购买者将与模板数据进行交易。不会影响到商店持有者背包的实际数据</p><p id="NeWIhiW85u9t9r4r-9l5f-" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>自身背包商店</em></span>：发生购买行为时购买者和商店持有者会实际进行背包内虚拟物品的交换，商店内无法出售持有者未拥有的虚拟物品</p><h1 id="NAczWyk5aOOpdxhbrtuSpH" data-block-mark="{}" class="no-font-size">三、商店的编辑</h1><p id="Nz5XOroIedus95FtHQZk9s" data-block-mark="{}">商店模板是一份完整的商店信息配置，打开系统菜单，在下图位置点击【商店模板管理】即可打开商店模板编辑界面</p><p id="NLPM3uEUEriIrjOMR323c8" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/7ed5e236-40dc-45cd-b396-ad5a3dab860e.png" style="width: 339px;aspect-ratio:0.3923611111111111;"></p><h2 id="NTGFx9pIxXV0c_a_CjP14I" data-block-mark="{}" class="no-font-size">1.基础设置</h2><p id="NYcwx_pMzqNcNSCSQbSCAX" data-block-mark="{}">打开商店配置界面，点击“新建商店模板”即可添加并编辑模板</p><p id="NeRTgLVs_2le84iYETt6q7" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/9c60d17f-7b13-4424-949e-d5794274f669.png" style="width: 1406px;aspect-ratio:1.6658767772511849;"></p><p id="NkHHdDtBw5pIkHevITIVZc" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>商店名称</em></span>：用户编辑时定义的商店名称，运行时无意义</p><p id="NLXzPz46p4GdEqiKnJ1U34" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>配置ID</em></span>：商店模板的唯一标识，被商店组件进行引用</p><h2 id="NDeY0ygU3g1OQFKN6WDMcR" data-block-mark="{}" class="no-font-size">2.显示设置</h2><p id="NTatWTo6yhWGhBbaoOqbEM" data-block-mark="{}">该部分定义了商店界面的外显信息</p><p id="NfXwYS2ZJxqC1HaKdLlHgB" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/51bc5073-e0ed-4de5-913e-7bc3633317e5.png" style="width: 628px;aspect-ratio:1.8802395209580838;"></p><p id="NToAX8VSfpAjS8uP9zVv3Q" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>开启商店时同时打开背包</em></span>：功能开启时，当玩家打开商店界面时，会同时打开背包界面<br><span style="color: rgba(89,111,254,1)"><em>商品页签类型</em></span>：决定改商店的页签分类方式</p><p id="NyF6uCxYKzSD0rhE_UKzes" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>无页签</em></span>：没有页签配置，所有虚拟物品都在一个页签下</p><p id="N2MqKNnQVUOAfd9NHkHHZr" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>默认页签</em></span>：会按道具的预制类型进行默认分类</p><p id="Ng10Q1O051aZf8KI7F5KQ6" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>自定义页签</em></span>：由用户自行进行页签分类的配置</p><p id="N6H9XlaaKGS81uGnprd2qA" style="text-indent: 32px" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/6f878479-962e-4876-979e-fe34164aeb43.png" style="width: 625px;aspect-ratio:2.5;"></p><p id="NLskdy0UQ-9izREEk6J3N1" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>*新增页签</em></span>：点击即可新增一个自定义页签，如果使用自定义页签，则可在后续配置商店出售表时，重定义物品的页签</p><h2 id="NGLliO8A2U22I6v0jK_SxF" data-block-mark="{}" class="no-font-size">3.出售设置</h2><p id="N6Ip7aZh-O4fDw6jyYzQQ3" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/89e07756-1168-4148-99c1-77320ddec789.png" style="width: 606px;aspect-ratio:6;"></p><p id="NDvhShPES-OXikyWz6DXvw" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>商品来源</em></span>：即上文描述的商店类型，分为自身背包和自定义列表</p><p id="NGn2yf8mmVVSWV6BUNlfOP" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>自身背包</em></span>：即出售的虚拟物品都来自于商店持有者的背包，只可重新定义每类道具的售价，不允许出售背包内没有的虚拟物品</p><p id="NFbDtergvpdQx0E_bW0IBI" style="text-indent: 32px; --indent: 32px" data-indent="1" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>*出售范围</em></span>：分为全部道具和部分道具，其决定了出售设置表初始化时，是否会默认添加全部创作者定义的道具</p><p id="N1mTK1e-c9lT9nOpN1Comr" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>自定义列表</em></span>：可以自由定义出售商品类型和数量，其作为一个数据模板存在，并不会对商店持有者的背包数据产生影响</p><p id="NHzH-nZ-03OZVIfzyEQ70m" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>售价设置</em></span>：定义该商店模板的出售价格表</p><p id="Nf26S_q57LZjWREoF_FbhV" data-block-mark="{}">当商品来源为为自身背包时，表结构如下图所示：</p><p id="N_Ef7iyYoCji6KLGjWjTHz" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/ae3a9f6f-7a41-4df7-8eec-802cea72207b.png" style="width: 936px;aspect-ratio:1.6714285714285715;"></p><p id="NxMHh4szpuANWPB7k79klJ" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>道具</em></span>：所有可被出售的道具列表</p><p id="NsG-SG7N0XxQD7RyjMTEDf" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>所属页签</em></span>：该道具在商店购买界面里会被归类到哪个页签下，在使用自定义页签时，用户可以自己配置每个道具所属的页签</p><p id="NraYNQpENtedCfOVla0_Bq" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(24,144,255,1)&quot;,&quot;fontFamily&quot;:&quot;&quot;,&quot;fontSize&quot;:&quot;&quot;,&quot;fontName&quot;:null},&quot;italic&quot;:true}"><span style="color: rgba(89,111,254,1)"><em>排序优先级</em></span>：定义了商品在商店界面内的排序，优先级越高的商品越靠前</p><p id="NJZI_znErFZnuWFuzvU_wu" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>是否可售</em></span>：为&quot;是&quot;该道具才会出现在交易界面内，可在运行时动态修改以达到解禁新商品的效果</p><p id="NGvG77zHVzdmK8vFvqb5L6" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>售价</em></span>：在进行交易行为时，买方购买一个该道具需要的货币量</p><p id="NU-h7KMs9afM3KvV1n_exb" data-block-mark="{}">为自定义商品时，表结构如下图所示：</p><p id="NSW7Ul-b3FeMOcUF2s2r9s" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/434b3f39-5ffb-4ab0-99a8-e9b018a57977.png" style="width: 948px;aspect-ratio:1.6778761061946903;"></p><p id="N1o8Z2IakdUu-H3zbZAY2z" data-block-mark="{}">大部分字段和背包商品出售表一致，这里介绍有差异的部分</p><p id="NSRgpdpN2snB_VuDL5ZxCO" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>商品序号</em></span>：在用节点图动态修改出售表时，序号用于识别要修改的具体条目，因为在模板商店内，可能出现多个相同道具的情况，此时可以根据它们不同的商品序号来定位到具体要修改的条目</p><p id="NbLU1v5u93RTOoBltR_fur" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>是否限量</em></span>：若为“否”，则可以无限购买。若为“是”，则可以定义该商店内总共可出售的该道具数量</p><h2 id="NEvS6Eb9J7_9gSXKD9nKUx" data-block-mark="{}" class="no-font-size">4.收购设置</h2><p id="N6z8AqnWjP5zjiuG1B1S8t" data-block-mark="{}">收购设置定义了交易过程中，玩家可以卖给商店的道具种类和价格</p><p id="NkWIJsiKzwX8aQ-ce2zy1A" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/d93d7388-a97e-46ad-9e74-9fa29717193b.png" style="width: 612px;aspect-ratio:5.666666666666667;"></p><p id="NDiNf-_wDwSssqeLlJSlge" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>*收购范围</em></span>：定义了商店可收购的道具种类</p><p id="NHpuE3BWCLoew-Wu9dlziw" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>不收购</em></span>：无法进行卖出，收购表为空</p><p id="NZJ00QeDMCvBZ_xXeZw90A" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>全部道具</em></span>：收购表内包含用户全局定义的所有道具类型</p><p id="NI-LkIBlMSDDsnIuNbtg1-" style="text-indent: 32px" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>部分道具</em></span>：玩家在收购表里自定义可收购哪些道具</p><p id="NdtoNW80TXUwGvLa7nrNzO" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>收购价格设置</em></span>：点击编辑按钮即可进入价格表编辑</p><p id="NEj2yqAOyQ4cmiZSP_Izvn" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/944b4226-9eb3-4f2d-9301-57ab7d3b0b3f.png" style="width: 931px;aspect-ratio:1.6714542190305206;"></p><p id="NJZSZkSP3r9mTFMmRT-KGn" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>道具</em></span>：所有可被收购的道具列表<br><span style="color: rgba(89,111,254,1)"><em>排序优先级</em></span>：定义了商品在商店界面内的排序，优先级越高的商品越靠前</p><p id="NEpUC5GmrepiCvkOoqzDcD" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>是否可收购</em></span>：为&quot;是&quot;该道具才可以卖给商店，可在游戏运行时动态修改</p><p id="NMHkM0uwXFjkNsjf2tJZTE" data-block-mark="{}"><span style="color: rgba(89,111,254,1)"><em>收购价</em></span>：在进行交易行为时，商店收购一个该道具会返还的货币量</p><h1 id="NAf-UXFnbHwdehhyGIG6NB" data-block-mark="{}" class="no-font-size">四、商店的运行时实例</h1><p id="NhfISwhuSSCVL59L0PpUvT" data-block-mark="{}">在游戏运行时，商店模板被<span class="CardKMLink"><a target="_blank" rel="noopener noreferrer nofollow" href="/ys/ugc/tutorial//detail/mho6gviqhsqs">商店</a></span>组件引用并实例化</p><p id="N2j7udCAI46DTKVfe9nWUl" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhi9s7isvp50/a1d21e56-35f9-43b9-95cf-e8ed2f7eea02.png" style="width: 1377px;aspect-ratio:1.873469387755102;"></p><p id="Nrs6fSWLGwVNIrhNYgHZE6"></p>