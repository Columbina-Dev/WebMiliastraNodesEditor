<h1 id="NwSGA6avYqTI0bLTv131Ya" data-block-mark="{}" class="no-font-size">一、结构体是什么</h1><p id="NaPMaRlH0iY5FLvlbzSRTe" data-block-mark="{}"><span style="color: rgba(251,44,54,1)"><em>结构体</em></span>是一种允许创作者将一组不同类型的数据整合在一起，形成一个自定义数据的高级数据结构</p><p id="NcB7emQqzwrrfOU9Ptn6pS" data-block-mark="{}">例如：在某些玩法中，创作者希望设计一个具有多种属性的【武器】。这个武器包括了【名字】、【攻击力】、【是否已强化】这三个字段</p><p id="NgkNbYRfEc9lzTe0IFA6EJ" data-block-mark="{}">创作者希望玩家获取了这个武器后，可以将武器的数据以自定义变量的形式存储下来，以便后续使用。同时，玩家可能在玩法内获取有着相同字段的多种不同武器</p><p id="NRlVjg7CHCE71wOZsdXJYP" data-block-mark="{}">那么结构体这个数据结构可以很有效的解决这样的需求</p><p id="NxngpZ90sJz-ePih0ESdxM" data-block-mark="{}"></p><p id="NAWP7A8uM6n_sQMMk3o9Fx" data-block-mark="{}">创作者定义一个名为【武器数据】的结构体，这个结构体包含了【名字】（<span style="color: rgba(251,44,54,1)"><em>字符串</em></span>）、【攻击力】（<span style="color: rgba(251,44,54,1)"><em>浮点数</em></span>）、【是否已强化】（<span style="color: rgba(251,44,54,1)"><em>布尔值</em></span>）这三个属性</p><p id="NaPa7pjUis5Ev0IcL8CCDQ" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/e469b338-90b2-44bd-9470-d8177058fbfd.png" style="width: 950px;aspect-ratio:1.7025089605734767;"></p><p id="NtyM7-r5G7yV1VFMxxgkEV" data-block-mark="{}">在完成定义后，创作者就可以把【武器数据】当作一种常规的数据类型使用，例如：在<span style="color: rgba(251,44,54,1)"><em>自定义变量</em></span>中定义，并在节点图中使用<span style="color: rgba(251,44,54,1)"><em>修改结构体</em></span>等节点修改其中存储的值</p><p id="NT0HCcLjF9qT8c6L_WdM2h" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/05f43efd-3e40-4115-87c7-744912a0def4.png" style="width: 418px;aspect-ratio:1.7344398340248963;"></p><p id="NvhaDo7MJ2iOjkN6WrvA01" data-block-mark="{}"></p><p id="Nzg6TAH0Oao_oYUJOJOl-z" data-block-mark="{}">创作者还可以结合<span style="color: rgba(251,44,54,1)"><em>字典</em></span>等数据结构，在自定义变量中维护武器相关的全量数据</p><p id="NqRHJCehEUpI6x6PY0wiRz" data-block-mark="{}">如下图所示，可以定义一个整数到【武器数据】结构体的字典，将其当作一个武器库的数据使用（整数作为id）</p><p id="NV0B0xr9BdqMUCfE066Xtk" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/7afc8161-be8f-4aed-a406-b5b843167a17.png" style="width: 403px;aspect-ratio:1.7521739130434784;"></p><h2 id="N0mI47PrXtBloKAUxlSMMx" data-block-mark="{}" class="no-font-size">1.结构体的定义</h2><p id="Nv3ojObJtCHi5wSyWwhDwj" data-block-mark="{}">结构体是一种可以在服务端节点图中使用的自定义数据结构</p><p id="NVmhK43yCQQBxs0tac9a6t" data-block-mark="{}">每个结构体有一个唯一的名字，用于标识这个结构体</p><p id="NxIfuxmJwKU4I7Bjx5fGvO" data-block-mark="{}">每个结构体内可以包含多个任意数据类型的数据，每个数据需要有一个唯一的字段名。这个数据被称为结构体的<span style="color: rgba(251,44,54,1)"><em>成员</em></span></p><p id="NPlvGh8-OCf1T9ROdRsLNI" data-block-mark="{}"></p><p id="NRMZY-Cp23Govivq9tl_ir" data-block-mark="{}">以上文【武器数据】结构体为例，其结构如下</p><div class="table-wrapper"><table id="N0fvaQlVtJGoGpMIPG0clU" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:491px;" border="1" cellspacing="0"><colgroup><col style="width: 245px;"><col style="width: 245px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="NfgjRoElY5VdnP2oplwOvN" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="245"><p id="NjQ76UOwaYgsjXAfj2GSf_" data-block-mark="{&quot;bold&quot;:true}"><strong>字段名</strong></p></td><td id="Nq0PfywFdjHo8s_69cb2gS" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="245"><p id="NHMvfywpKagDT4e54MsemL" data-block-mark="{&quot;bold&quot;:true}"><strong>类型</strong></p></td></tr><tr class="table-row"><td id="N7yIYWTjQ33Y2FlMz9g2tA" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NGaycqd0ymjDwWvcz32e0B" data-block-mark="{}">名字</p></td><td id="NqKQtTuJIyM4GzSW3SvHB2" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NjCFhGXKT_XNEHVhxLoHiY" data-block-mark="{}">字符串</p></td></tr><tr class="table-row" style=" height: 43px"><td id="NzEsrv9P9LF6JZ_tpM2HLi" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="N3XplFOdEM4CVleeYJUEoJ" data-block-mark="{}">攻击力</p></td><td id="NmvZsv_-KQ97n8cuCVS-5U" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NRqE5vQVlbQMuRUAYV6GyM" data-block-mark="{}">浮点数</p></td></tr><tr class="table-row"><td id="NJSH8e_5MQpo_LDnkP6fKN" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="N_T54oMTXYpatUf-KFknQz" data-block-mark="{}">是否已强化</p></td><td id="NqFhuMfQb4w3ViQeKgw4ig" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NfR7jAy9iBCqEIBGd5M7Xg" data-block-mark="{}">布尔值</p></td></tr></tbody></table></div><p id="NVe012BYfycbZJimPFvGpp" data-block-mark="{}"></p><p id="Nlr4DnguTZC63fCaohfwgt" data-block-mark="{}">结构体中可以使用目前可用的所有基础、列表、字典以及结构体数据类型：</p><div class="table-wrapper"><table id="Nly-jxnpmZV4Mq48hjsyZR" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:431px;" border="1" cellspacing="0"><colgroup><col style="width: 215px;"><col style="width: 215px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="N-8kc4l3lgVlQYq21GSRqJ" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;},&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NeGF9iPejkC2Bgzl5CDCyC" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;},&quot;bold&quot;:true}"><strong><span style="color: rgba(0,0,0,1)">数据类型</span></strong></p></td><td id="NiWZp9G0AS9ZKFuzp9rlxq" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;},&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N1XDpf5WUXkfv1MHfELeCo" data-block-mark="{}"><strong><span style="color: rgba(0,0,0,1)">列表数据类型</span></strong></p></td></tr><tr class="table-row"><td id="NXdUoBrZJrSkNRY2AaI4__" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NAaJmL_6w7cUFJJCSMsgF-" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">实体</span></p></td><td id="NP1mwhddgoVkkR-wtcC3qY" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NVKGzIZxIaaTQ4Nq2ZDxJa" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">实体列表</span></p></td></tr><tr class="table-row"><td id="Nh72cfuDpDIcjUvtHhyfdW" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N7Y4szY9OZgUWlgcdPRFTl" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">GUID</span></p></td><td id="Nv-oFOt-Z9bJB2GV80RPh_" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="Ni0cbzM67Wei0KIZ82pu9j" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">GUID列表</span></p></td></tr><tr class="table-row"><td id="NiI_PaWqex3l2h22ZAszVj" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NnYIzC237Ch8lgI4La3AXB" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">整数</span></p></td><td id="Ng1ER_IkRRl5ZxXcZAwEDz" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NiLRPekpAn15lnsYjiw4Xp" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}"><span style="color: rgba(0,0,0,1)">整数列表</span></p></td></tr><tr class="table-row"><td id="Nu8xljqUbXjMiqPF9yNfD4" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NjJFhX4-9Zkj4D-_XiUBvN" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">布尔值</span></p></td><td id="NJytAVmbW7AyjipStriI_t" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NqB-7Y1xtjBdNX7J71SVQ-" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">布尔值列表</span></p></td></tr><tr class="table-row"><td id="Nqw5IuJLv246FHs9dtgY0X" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="Nx7x_68oaJo7G7dghfCLtv" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">浮点数</span></p></td><td id="N1LrGtEDzZPOBEOUodWKAd" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NoVXqXPxJNksRdcdliNPOl" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">浮点数列表</span></p></td></tr><tr class="table-row"><td id="NOH7_3EWh9vrDyS8e3R4iY" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NgKEtfT1WuQ639wts-OUNe" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">字符串</span></p></td><td id="NAO39O9UF2DTj-WrIbW-zQ" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NO4rlK109lcin9wS2T1r-k" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">字符串列表</span></p></td></tr><tr class="table-row"><td id="N3UGSx5l_OxF-knzSCPx6q" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N8xhP4bOkfX0byFPaO9hXs" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">阵营</span></p></td><td id="N_8Zvf14-tPa-UFYbVOs_x" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N7nwTYG2cmfSRtpb7l0STJ" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">阵营列表</span></p></td></tr><tr class="table-row"><td id="NdRxjCL1GD9MkXIgYi3H8W" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N802kNFtnerFaKhVq8dLYi" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">三维向量</span></p></td><td id="NA1kGSghMc8SehX_5JUhBi" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NFJJFNxd3RFN-qARvqJp8e" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">三维向量列表</span></p></td></tr><tr class="table-row"><td id="NfBM274RAhkumlIZVRxKST" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NW7dTiaeLlORMaCfXge9Nj" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">元件ID</span></p></td><td id="NTRsZjjuI2c55G1vvaW4wJ" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N7PwMpDWYGic1vPAJSLvK5" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">元件ID列表</span></p></td></tr><tr class="table-row"><td id="NOmruBaedREJth23khSTID" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="Neo97PJgfyzI1p52hYjITU" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">配置ID</span></p></td><td id="NOnCRNlsqhidzqpN9CC1S0" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NtL7CI9G_xD7WhBLfLrUcc" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">配置ID列表</span></p></td></tr><tr class="table-row"><td id="NdX1W9G2M5q6M3WLd2_gx3" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NXcWCfe243OJBZv1yNt0ju" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">自定义结构体</span></p></td><td id="NpIiGYWlNRKbWTcJusoUAk" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NLNvfzxVL7PZwXxlLCPVu4" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">自定义结构体列表</span></p></td></tr><tr class="table-row"><td id="NneAAUeejrXL4GvmCprZeH" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="NxOym591RKnkIKiI-1fMaH" data-block-mark="{}"><span style="color: rgba(0,0,0,1)">所有类型的字典</span></p></td><td id="NjPF54dyCN-L1dF0vNXW1h" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(0,0,0,1)&quot;}}" colspan="1" rowspan="1" data-colwidth="215" style="vertical-align: top;"><p id="N6gqoIdPIqmQ6MRd3bvqte" data-block-mark="{}"></p></td></tr></tbody></table></div><p id="Nxe5bA5tPIGCjjH1HxFKOW" data-block-mark="{}"></p><p id="N7fdEddKtZu2cezuYjFgbW" data-block-mark="{}">需要注意的是，结构体内部是可以继续使用结构体以及结构体列表的（即<strong>支持结构体嵌套</strong>）</p><h2 id="NJjg90tgznduXiSQA2teH0" data-block-mark="{}" class="no-font-size">2.结构体相关功能要点</h2><div class="prosemirror-list-new" data-node-id="NWnyS5_znJa7pUA2IeOtSs" listId="cf4e373d" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NWnyS5_znJa7pUA2IeOtSs" data-block-mark="{&quot;bold&quot;:true}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content"><strong>结构体的类型</strong></div></div><p id="NK5XT6vqtPs33bTyVCmBz6" data-block-mark="{}">结构体的类型由其名字完全确定，不同名的结构体即使内部的数据结构相同，也是不同的结构体，在节点图中不能相连</p><p id="N4QYSe7PpE_Z0htuZ9eguo" data-block-mark="{}">因此结构体间也不允许同名</p><p id="NgY-v8bsypK07wmeQxHuqG" data-block-mark="{}"></p><div class="prosemirror-list-new" data-node-id="N_FVz8szurMqPRV2_K90Ni" listId="b5522d11" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N_FVz8szurMqPRV2_K90Ni" data-block-mark="{&quot;bold&quot;:true}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content"><strong>结构体的引用传递</strong></div></div><p id="NQmVgGC2V8s_wWVLYjPhUP" data-block-mark="{}">与列表相似，结构体在节点图中也是以引用的方式进行传递的。因此结构体相关的修改节点会直接作用于自定义变量、节点图变量内的结构体数据，具体见<span class="CardKMLink"><a target="_blank" rel="noopener noreferrer nofollow" href="/ys/ugc/tutorial//detail/mhso1b9wjica">自定义变量</a></span></p><p id="NxTh5An6smELeKgPutVhZG" data-block-mark="{}">同理，<span style="color: rgba(89,111,254,1)"><em>自定义变量变化时</em></span>事件中不会传出【<span style="color: rgba(89,111,254,1)"><em>旧值</em></span>】和【<span style="color: rgba(89,111,254,1)"><em>新值</em></span>】字段，需要使用<span style="color: rgba(89,111,254,1)"><em>获取自定义变量</em></span>来获取变化后的值</p><h1 id="NLuLXPUGlYF478rjSuozXK" data-block-mark="{}" class="no-font-size">二、创建结构体</h1><p id="NaU8MuGm6dCguFgY57ZJxU" data-block-mark="{}">从菜单中找到【高级数据管理】选项，打开结构体编辑页面</p><p id="NJM4K2VmSASQwjPImQVGX4" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/6377a8ba-443d-4a85-9fe2-c3ad3bfb7f0a.png" style="width: 1492px;aspect-ratio:1.7308584686774942;"></p><p id="NnwtdSRSFvPcp9mtJugXVN" data-block-mark="{}"></p><p id="NgQZ4ztIcOWLndGd4WypwZ" data-block-mark="{}">在结构体编辑页面内，可以查看关卡内已创建的结构体、新增结构体以及修改结构体内的成员的值</p><p id="NtAGVcI0WpFILi2nYCvwYF" data-block-mark="{}">可以新增结构体，图中A</p><p id="NY_C_eRDDqTBSrT7OjnTZf" data-block-mark="{}">可以在结构体内新增成员，图中B</p><p id="N0g2MrrO6F_74N2-Z4L_06" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/58b4f041-519e-4c13-8a96-353875fda311.png" style="width: 1495px;aspect-ratio:1.7383720930232558;"></p><p id="NicdobPtbszdozTNVXf9iY" data-block-mark="{}">完成创建后，即可以在<span style="color: rgba(251,44,54,1)"><em>服务端节点图</em></span>、<span style="color: rgba(251,44,54,1)"><em>自定义变量</em></span>、<span style="color: rgba(251,44,54,1)"><em>节点图变量</em></span>等功能中使用已定义的结构体</p><h1 id="NBBNc59Gusae4PoMt_RDQB" data-block-mark="{}" class="no-font-size">三、在泛型中使用结构体</h1><p id="NsPp8gF3T2E7Q6lo678_ew" data-block-mark="{}"></p><p id="NQPs_1Aw22WncolLidcPuK" data-block-mark="{}">在服务端节点图中，结构体以及结构体列表是一种较为特殊的<span style="color: rgba(251,44,54,1)"><em>泛型引脚</em></span>。需要选择特定的结构体或结构体列表后，才能将对应节点确定为特定的结构体或结构体列表类型</p><p id="Nz3Anhmv0Ef5Qt_YZdAxjQ" data-block-mark="{}"></p><p id="NkfRzbo2zStuk7rewjpWUG" data-block-mark="{}">在可以使用结构体的泛型引脚上，可以在泛型的展开菜单中找到【结构体】和【结构体列表】选项，展开后可以找到所有当前关卡已定义的结构体数据类型</p><p id="NBdkLkl0FQ6WRNKVEEbvBd" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/bc6fb362-54c1-4761-98a4-7eae0da22113.png" style="width: 439.17px;aspect-ratio:1.0707317073170732;"></p><p id="NdvmXskor7qdeNgY8VQouj" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/edfbcc74-1d61-4796-863b-7a8b912707af.png" style="width: 473.12px;aspect-ratio:0.9936974789915967;"></p><p id="N50jLHIu_W_hPnN_jkPdaz" data-block-mark="{}"></p><h1 id="NlMYH4f2CmxIBKtsKvOwHq" data-block-mark="{}" class="no-font-size">四、结构体相关节点</h1><h2 id="N0V92z9UtqgRsMPsQccKX6" class="no-font-size">1.运算节点</h2><p id="NPqMnqNCuBUsWJBYpyF-gS" data-block-mark="{}"><strong>拼装结构体</strong></p><p id="NxpcbWesGjYKsEXIpW1qol" data-block-mark="{}">生成一个结构体，需要传入或者直接填写结构体内的各个参数</p><p id="NHbM1jZ05VivNx7phl9NC9" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/38efca73-2514-4d88-a35e-ead8c2be8a0a.png" style="width: 205px;aspect-ratio:1.2974683544303798;"></p><p id="N-UHH79yxEwrhakG7e6GaF" data-block-mark="{}">使用该节点需要先通过泛型选择按钮选择已定义的结构体类型</p><p id="NRgd_G69dqrXdLvF2sFAeR" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/49a68a38-9797-4c09-b5b8-33faf33a870b.png" style="width: 332px;aspect-ratio:1.930232558139535;"></p><p id="NAfkRmaM9VPjUNMrKE61at" data-block-mark="{}">选择对应的结构体后，该节点会显示结构体定义中的所有成员变量</p><p id="NzprGsNy85pfennri7_s3F" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/e4f46fef-5dd6-4c2f-a64c-776e0ce7f5b5.png" style="width: 357px;aspect-ratio:1.193979933110368;"></p><p id="NC-9JEx8YboL_-3dQ-Tmfg" data-block-mark="{&quot;bold&quot;:true}"><strong>节点类型</strong>：运算</p><p id="NVsLqPQzbnNpl9-C3Vph6p" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="N7oQn9dGTEtaFaIPTQTPVX" listId="f30a2cec" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N7oQn9dGTEtaFaIPTQTPVX" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">填写结构体内的各个参数的值以生成一个结构体数据</div></div><div class="prosemirror-list-new" data-node-id="N3APOn0r4OqgGqFFEuAMiy" listId="f30a2cec" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N3APOn0r4OqgGqFFEuAMiy" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">需要定义对应类型的结构体后才可使用该节点</div></div><p id="Ng6d9UMt18gRGfYqTF3ee1" data-block-mark="{}"></p><p id="NPFIwKCaHNyKQ30SN2ooNZ" data-block-mark="{}"><strong>拆分结构体</strong></p><p id="NLY1gWZLdeVgcqSPfcb09t" data-block-mark="{}">传入一个结构体，获取这个结构体每个成员的值</p><p id="NCtUTAowStlD0LVY-imOj4" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/55029866-a5f2-4843-b47a-ba12e675f002.png" style="width: 156px;aspect-ratio:1.3448275862068966;"></p><p id="N-OrWGmSj5POtWmnOxSXfe" data-block-mark="{}">使用该节点需要先通过泛型选择按钮选择已定义的结构体类型</p><p id="Naalzbvi0mTWpXnURfiBW9" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/f7c5bd55-6f19-440f-81cd-1a69a48379b2.png" style="width: 362px;aspect-ratio:1.989010989010989;"></p><p id="NwFz2DSxL_DEVKAzQ_NguS" data-block-mark="{}">选择对应的结构体后，该节点会显示结构体定义中的所有成员变量</p><p id="N8eSFVTCUerK8tF6e51_wG" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/f336a3c5-605c-4046-b705-9e1c3fd967fa.png" style="width: 282px;aspect-ratio:1.4170854271356783;"></p><p id="NP18ykkhqCfuFC-fYnzTqD" data-block-mark="{&quot;bold&quot;:true}"><strong>节点类型</strong>：运算</p><p id="NkZB-ZdyVxwsh8xglb6u4d" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="NlwcVLuYTShxaIiRKHYT1n" listId="88ed80b9" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NlwcVLuYTShxaIiRKHYT1n" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">返回传入的结构体数据内的各个成员的值</div></div><div class="prosemirror-list-new" data-node-id="NUvqY-5RBrgM115u-Qlrgx" listId="88ed80b9" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NUvqY-5RBrgM115u-Qlrgx" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">需要定义对应类型的结构体后才可使用该节点</div></div><h2 id="Noq-VmDjnTWAYCkq5B6_0n" data-block-mark="{}" class="no-font-size">2.执行节点</h2><p id="NtwL03A5g3Oimg7vcjJx-2" data-block-mark="{}"><strong>修改结构体</strong></p><p id="NQ-T3wo-Lf8nepa1heXJse" data-block-mark="{}">传入一个结构体，修改这个结构体内部分成员的值</p><p id="NoGs6ltDdfh9mKUcMZXv6k" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/126dbb0b-d4bb-4a58-afb1-10973cb2b8e1.png" style="width: 247px;aspect-ratio:1.436046511627907;"></p><p id="NZa0GcLZbUEY9K7XWqBbd7" data-block-mark="{}">使用该节点需要先通过泛型选择按钮选择已定义的结构体类型</p><p id="NO3C31C0xIgrX1_EiNzCHE" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/7173bf2e-7132-4a2c-a617-ccd23f60092f.png" style="width: 391px;aspect-ratio:1.8443396226415094;"></p><p id="NXM30yE02fxwfdsCiFdkfs" data-block-mark="{}">选择对应的结构体后，该节点会变为如下结构</p><p id="NlVkm7TZDb0MAuuEWPLazR" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/1e51d978-91e5-4574-b4f5-4ef4910bc1e5.png" style="width: 250px;aspect-ratio:1.0330578512396693;"></p><p id="N9qUPwHnP_pUDJjCFn07Ns" data-block-mark="{}">可以通过下拉选项，选择需要修改的成员，只有被勾选的成员的值才会被修改</p><p id="NiIPqy2X-o89BAQDYzyrlS" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/caf0f463-be4a-4a18-a27f-a8334b1e8fbe.png" style="width: 205px;aspect-ratio:0.6549520766773163;"></p><p id="N6Rd_cmStUD8GNZxd6GB8l" data-block-mark="{}">如下图，只有【名字】和【攻击力】字段的值会被修改</p><p id="N6ZOJYYUKXxjJsmHJLXaBK" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mh3fmi0t99ns/ab2f93a1-7238-458d-966d-ac8b7ae713bd.png" style="width: 249px;aspect-ratio:0.6569920844327177;"></p><p id="NgAu731TIkTHsJB2Qsb9v8" data-block-mark="{&quot;bold&quot;:true}"><strong>节点类型</strong>：执行</p><p id="NDbtCU-gmmU_TWvi_3Wd12" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="NM1GqBco0PxFndoLMy_3UQ" listId="672ad9e8" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NM1GqBco0PxFndoLMy_3UQ" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">修改结构体数据内的部分成员的值</div></div><div class="prosemirror-list-new" data-node-id="N6cpawfe2xLqRh6dfqN9IF" listId="672ad9e8" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N6cpawfe2xLqRh6dfqN9IF" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">可以选取需要修改的值。未被选取的成员的值不会被修改</div></div><p id="NjXSs4Ntn8hOYaGYh1iWGz"></p>