<h1 id="NGM8Nlh7J9ltT5jwJ1NHd9" data-block-mark="{}" class="no-font-size">一、自定义变量的定义</h1><h2 id="NxP36-3cSCPwmTP3Y-K7J-" data-block-mark="{}" class="no-font-size">1.自定义变量是什么</h2><p id="N5s7dEhyfovaweO_KWZ8xI" data-block-mark="{}">自定义变量是一组存储在实体的自定义变量<span style="color: rgba(255,0,0,1)"><em>组件</em></span>内、创作者可以自行定义和使用的数据结构</p><p id="NcUwgjQ2jrJL-tyJtq23CT" data-block-mark="{}">自定义变量有很多用途，常见的用法是用来承载玩法逻辑的自定义数据，例如：使用关卡实体上的自定义变量来记录玩家的得分，或在一个开关物件上记录玩家击打的次数来判断是否打开机关门</p><p id="NpxUqDW6rQkHTeZNTIfSfS" data-block-mark="{}"></p><p id="N8zpJZX5VmzQ4x9QJZGYa4" data-block-mark="{}">自定义变量使用<span style="color: rgba(89,111,254,1)"><em>自定义变量名</em></span>（字符串型）作为唯一索引，读取、修改、监听事件等操作均依赖自定义变量名称，因此在同一个实体上，自定义变量不能重名</p><p id="NB4wysV3UgWxETedXJ5oUm" data-block-mark="{}"></p><p id="NxYBrMWBjcGgw0xk7DSm4h" data-block-mark="{}">自定义变量支持大部分节点图中可用的<span style="color: rgba(255,0,0,1)"><em>基础数据类型</em></span>以及<span style="color: rgba(255,0,0,1)"><em>列表数据类型</em></span>，可支持的类型见下表：</p><div class="table-wrapper"><table id="Ndg0Heg1pBao7lENav8F-B" minWidth="66" style="font-size: 16px; border-collapse: collapse;; width:736px;" border="1" cellspacing="0"><colgroup><col style="width: 245px;"><col style="width: 245px;"><col style="width: 245px;"></colgroup><tbody><tr class="table-row" style=" height: 43px"><td id="N_zbxRjlBoEbaiIDeybcyd" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NfjhEXHKgJ3Oeo1VXm9GRS" data-block-mark="{&quot;bold&quot;:true}"><strong>基础数据类型</strong></p></td><td id="Nvliv4rt1YZh-Fo53D33Vo" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NGbeOmGSjA9xYuHjPk-Y62" data-block-mark="{&quot;bold&quot;:true}"><strong>列表数据类型</strong></p></td><td id="NtEgNnIYKLjZPXk28a5kE1" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="Nx6TbmhTGNSNn7wkzhyhf4" data-block-mark="{&quot;bold&quot;:true}"><strong>字典数据类型</strong></p></td></tr><tr class="table-row" style=" height: 43px"><td id="Nl_k3TIWLNqzW9g-qIpf5I" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="Non3JfAJpKJEkknjwIT6uE" data-block-mark="{}">整数</p></td><td id="N750mB4TFCAcQFWr4mSsVp" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NRAyEvAYG-1NnMzKr2Ov8i" data-block-mark="{}">整数列表</p></td><td id="NkXMJPvupFur-lzcKuiNHZ" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NWzeDjfHr2T1_8j80BWQfl" data-block-mark="{}">所有字典数据类型</p></td></tr><tr class="table-row"><td id="Ndr-YgnW4f4L9g4-XmQ-qm" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NhnSB3o56m_IbjUNCWXuhf" data-block-mark="{}">浮点数</p></td><td id="NyIF5PXO4sSKSfF-887YJK" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NTvidlkS07G4qynudkUFyU" data-block-mark="{}">浮点数列表</p></td><td id="NCa9uf-py-0RDzP_p97Jcn" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NQAIbta3w2_-7wtXxd6FDB" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="N7FzzvKgMDnsZ4r9O1ncBf" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NXP5H97lgzdSLFRvOoD8_M" data-block-mark="{}">字符串</p></td><td id="NtVpIntkTGLiX39mKSHd6L" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NRTIuoi8G9QxYzfqLF8EV9" data-block-mark="{}">字符串列表</p></td><td id="NfRA_efN8z6gGy6lN1kPYJ" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NSGHVnEyY0YMxrapPPsbE0" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="NKVLett1eKvIpngnCfWwJu" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NQPrWNcGUiP7nPVLprUk-f" data-block-mark="{}">布尔值</p></td><td id="NEsVHojFmhVmin37H8F3zL" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NnK1dS69b-2kNRLaU8RsM9" data-block-mark="{}">布尔值列表</p></td><td id="NDlWxp_59akK01iAtlJGP5" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NTSQrv84L0yKEzTNXRVjLC" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="Ny3w8qwwXnpztLeyIOw0Dv" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NMEnqJNrFWhUz2XkOEdLoX" data-block-mark="{}">三维向量</p></td><td id="NPli326wTMnSqxYaAR1qae" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NV6OPQ2XkuRI1q6qXQCDVp" data-block-mark="{}">三维向量列表</p></td><td id="N4ZV_3CiQsrcIdyFswRhas" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NknrehD6zItJwyQ8BVH0do" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="Nmctlj-0wbk1L3eiQTdH28" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NTPnsDyOQaoASGGxK4vVYz" data-block-mark="{}">实体</p></td><td id="NYgrpbHI_x6iLdG6AC24-L" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="N4H5eWyEwkSISz8jmn54uT" data-block-mark="{}">实体列表</p></td><td id="NG0pEs2tBCS_xQI07n0N4e" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NuN6pnJ5HEITvjgnK-nY3R" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="N-d-gzYuXF5vCIl5iOMYXu" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NBvc13Dz6j5YO1-Q7dyWGv" data-block-mark="{}">GUID</p></td><td id="Ncelgf5rSrbbAO5y_6ZbRB" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NBwtuI3z9StYXEVh8McAY6" data-block-mark="{}">GUID列表</p></td><td id="NYS4Iu9_fn3duvfVSCkulU" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NclgzRFgaS82q95MyBpYZj" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="NbXdsav06xIdODlCzPfynE" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NjKtbanIqF0uXTBLB49tcf" data-block-mark="{}">元件ID</p></td><td id="NA2FlisXgvo82O691TDe2w" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NkopdvYeP9DRA-NG0hw8GI" data-block-mark="{}">元件ID列表</p></td><td id="NTT3wVmRzmQLkvGWZriYj6" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="Nwlh55WlewADQBOSdU__v-" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="NIL4gfYFNCtzKE-R3MW0FR" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="N6DpcIksPeSBymkYRAH5II" data-block-mark="{}">配置ID</p></td><td id="NjfdXE_Njf2QrJOe5tCnVo" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NtajqZkBxXgEG-dIcYZdhA" data-block-mark="{}">配置ID列表</p></td><td id="NfnWGQHUWzFKk5BlU0t9ns" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="N1oVllqlIaFYO-E1gSVmV2" data-block-mark="{}"></p></td></tr><tr class="table-row"><td id="NMiJQ835hkxtT2UM-I8OBq" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245"><p id="NC_-EL9fti-DnHM6jdPoHj" data-block-mark="{}">结构体</p></td><td id="N0U3RrhStmHCBVQbs_wquY" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NNLZBTnyySTn1Q_Uaf8A7W" data-block-mark="{}">结构体列表</p></td><td id="NKgiR_yfvbPgc9SlOhYlRK" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="245" style="vertical-align: top;"><p id="NEmxSWeT08bXHhnfmg27H0" data-block-mark="{}"></p></td></tr></tbody></table></div><p id="NXG_luHgfe7OXS_f8hVKRM" data-block-mark="{}">数据类型的说明见<span class="CardKMLink"><a target="_blank" rel="noopener noreferrer nofollow" href="/ys/ugc/tutorial//detail/mhk23ora1wom">基础概念</a></span>-节点图中的数据类型</p><p id="NWZp7lMcmUUaUwS8AjX605" data-block-mark="{}"></p><h2 id="NdrSXN_ATB6dUqJomWMI16" data-block-mark="{}" class="no-font-size">2.自定义变量的生命周期与作用域</h2><p id="NYIvMhxbMOtvl_EYKyMzGV" data-block-mark="{}"></p><p id="N8iVTV0v8foOy5UOMp7PBL" data-block-mark="{&quot;bold&quot;:true}"><strong>生命周期</strong></p><p id="NKVBrZ_ex4gJAqBcJ-CTDk" data-block-mark="{}">自定义变量的生命周期跟随组件（同理也跟随组件挂载的实体）</p><p id="NH5VrqwCeCBkvoj-7s112s" data-block-mark="{}">当实体被<span style="color: rgba(255,0,0,1)"><em>销毁</em></span>时，自定义变量也会同步销毁（无法访问、修改）</p><p id="NloxiUwh8dZjdFRIHi0_Mz" data-block-mark="{}"></p><p id="N7O9P9jYbZPbl3JnhEUfw_" data-block-mark="{&quot;bold&quot;:true}"><strong>作用域</strong></p><p id="NjHqAx59-s5wbyIWzDPl75" data-block-mark="{}">自定义变量的读和写拥有全局的作用域，即实体可以读取、修改任意实体上的自定义变量</p><p id="NYjn_lC-nMvYydDYF74xMQ" data-block-mark="{}">与其他绝大多数事件类似，自定义变量的事件仅会推送给节点图所挂载的实体</p><h2 id="NdmDaCNl93m7L-qFPde1uT" data-block-mark="{}" class="no-font-size">3.自定义变量的操作</h2><p id="Nm4d7Q6AXmlXO09X_9thdB" data-block-mark="{&quot;bold&quot;:true}"></p><p id="NpIRDalaFViCtkz4XNA_U6" data-block-mark="{}">在组件中定义自定义变量后，可以在节点图内进行读、写、监听等操作，包括</p><div class="prosemirror-list-new" data-node-id="N888gXjRm2nxDTKsr7OpTP" listId="65f7e688" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N888gXjRm2nxDTKsr7OpTP" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">在<span style="color: rgba(255,0,0,1)"><em>服务端节点图</em></span>内读取</div></div><div class="prosemirror-list-new list-align-left list-align-left" data-node-id="NoHnHDSK0rInl1hCuTWG9k" listId="65f7e688" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NoHnHDSK0rInl1hCuTWG9k" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">在服务端节点图内写入</div></div><div class="prosemirror-list-new list-align-left list-align-left" data-node-id="NGoLw-sF6RP063pSBXrYTG" listId="65f7e688" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NGoLw-sF6RP063pSBXrYTG" data-block-mark="{&quot;bold&quot;:false}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">在服务端节点图内监听自定义变量的变化事件</div></div><div class="prosemirror-list-new list-align-left list-align-left" data-node-id="NGfSsQnWGD8y4pZ_wcbYos" listId="65f7e688" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NGfSsQnWGD8y4pZ_wcbYos" data-block-mark="{&quot;bold&quot;:false}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">在<span style="color: rgba(255,77,79,1)"><em>本地节点图</em></span>内读取</div></div><p id="NzK0UIHKG8n7rJiCfKtVjY" data-block-mark="{}"></p><p id="NETOhR4FBpXy0PRMKpGb7f" data-block-mark="{}"></p><h1 id="NIJ-PNGRN-PzpcE8z3IReF" data-block-mark="{}" class="no-font-size">二、自定义变量组件的功能</h1><p id="NYrFSvmqZz1q-UiSDo8K8_" data-block-mark="{}">自定义变量组件是自定义变量的数据承载者</p><p id="NqBiy5BnG5QN0frbxeMUIu" data-block-mark="{}">自定义变量组件可支持同时配置多个自定义变量</p><p id="NOlghmdvWoPX1Oo-o5yTz-" data-block-mark="{}">实体拥有自定义变量组件后，才可以对其进行自定义变量操作</p><p id="NHO1AVo0isPpmwcAU2FebY" style="text-align: left">仅有配置在组件中默认创建的自定义变量才会被同步至本地，被<span style="color: rgba(251,44,54,1)"><em>界面</em></span>、<span style="color: rgba(251,44,54,1)"><em>本地过滤器</em></span>等功能使用</p><p id="NbR1Pq0HPu0iX1a_8sCvCH" data-block-mark="{}"></p><p id="Ni4-QFjyc9kWk2L8-bkpGv" data-block-mark="{}">自定义变量<strong>不需要</strong>定义后再使用。在服务端节点图中，可以使用<span style="color: rgba(89,111,254,1)"><em>设置自定义变量节点</em></span>为实体动态创建新的自定义变量（但要确保新创建的自定义变量不与现存的重名）</p><p id="N0V-KZe0HIxTM6k2xnxgvF" data-block-mark="{}">定义过程中需要确定</p><div class="prosemirror-list-new" data-node-id="NTJ-gkee1gkrJX4fhbBo2U" listId="37e1abb4" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NTJ-gkee1gkrJX4fhbBo2U" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">自定义变量名：这是自定义变量的唯一序号。同一个组件内，自定义变量不允许重名</div></div><div class="prosemirror-list-new" data-node-id="NLnlQILmTmg90jamb0xPjD" listId="37e1abb4" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NLnlQILmTmg90jamb0xPjD" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">自定义变量<span style="color: rgba(89,111,254,1)"><em>数据类型</em></span>：当前模式使用的是强类型，所有自定义变量定义时必须明确其类型。</div></div><div class="prosemirror-list-new" data-node-id="NPxIKKvjytGm8wBC5DW2_Y" listId="37e1abb4" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NPxIKKvjytGm8wBC5DW2_Y" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">自定义变量的默认值：当实体创建时，该自定义变量会以这个默认值创建</div></div><p id="N89Yf8Jpp8gsm_O4nyhv1x" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/4adda35d-f29a-43c1-8697-d8b2a1fd7aa2.png" style="width: 515px;aspect-ratio:2.942857142857143;"></p><p id="NkTou3ph53E6N5Hfghzw4h" data-block-mark="{}"></p><p id="NM2Ms1xmRnhq1wLbQQ5Ck0" data-block-mark="{}"></p><p id="NcFpgpALfh9Gw3xOCVFTo8" data-block-mark="{}"></p><h1 id="Nt8ZntmCL-_oVp6G7wouR9" data-block-mark="{}" class="no-font-size">三、自定义变量的编辑入口</h1><p id="NwYz1DrcF6Fw1Gj-qxCQ7Z" data-block-mark="{}"></p><p id="N29Hqj4WcERRyIgXkBr_ik" data-block-mark="{}" style="text-align: left"><strong>步骤1</strong>：在实体或元件的组件页签找到或新增自定义变量组件</p><p id="N78nASAe5d1mQ7m2UG9npK" data-block-mark="{}">1、切换到实体或元件的组件页签</p><p id="NoMxsGIidsiTj_VdnJHt6F" data-block-mark="{}">2、找到或新增一个自定义变量组件</p><p id="NdgrltdPFE0146hlzJ2-m3" data-block-mark="{}">自定义变量组件是所有单位的默认挂载组件（即单位创建时会默认挂载），因此对于新建的实体或元件，可以在组件页签直接找到自定义变量组件</p><p id="NUrfJ22oTztgUvlB_Wa6wy" data-block-mark="{}">如果不存在，可以通过添加通用组件按钮新增一个自定义变量组件</p><p id="NmirgVOCO9LzvdoBkkOM4v" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/3a84a7f0-05a0-468d-97f6-5fa699accf0a.png" style="width: 1507px;aspect-ratio:1.693258426966292;"></p><p id="NDIxaJjTo-wsopcKbltF_Y" data-block-mark="{}"></p><p id="NWsqJCBASZz-EDYLwEDWwF" data-block-mark="{}">在组件页面可以看到当前已定义的自定义变量数</p><p id="NdYTFWrVde8-JHde8ckE-p" data-block-mark="{}">点击【详细编辑】进入自定义变量组件详细编辑页面</p><p id="NpmlAv196RkDFdCgTvH5zX" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/fdfabc69-f1a8-4099-990b-a69667e6e038.png" style="width: 362px;aspect-ratio:2.2625;"></p><p id="NlSlXaA-EmgAP5WnwAQ8p6" data-block-mark="{}"></p><p id="NvX5kMAsLPQD0_J2SkocJh" data-block-mark="{}"><strong>步骤2</strong>：在自定义变量组件详细编辑页面新增或修改自定义变量</p><p id="Nb0NKcERNk0AuqlA4uaAbn" data-block-mark="{}">进入详细编辑后页面如下：</p><p id="Nddtf18oqTlzplShaxpmRr" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/7a0d1adc-f658-4979-9117-3f4086de5300.png" style="width: 516px;aspect-ratio:0.6106508875739645;"></p><p id="NDx8yg8PMNnZV0DpByQ2v2" data-block-mark="{}">【已定义自定义变量】：可以查看和修改当前已定义的自定义变量，修改它们的命名、类型和默认值</p><p id="N45cErJ8BBvYuRVfOkw651" data-block-mark="{}">需要注意的是，在组件内修改一个已经定义好的自定义变量的命名、类型，可能会导致节点图中自定义变量相关节点无法执行</p><p id="N4HYxudMD13JvOnPovQMcr" data-block-mark="{}">例如：假定图中有一个名为【新增变量1】、类型为【整数】的自定义变量，在节点图中使用【设置自定义变量】修改了值</p><p id="NH1IvUk0R61SpmQcNR37_S" data-block-mark="{}">如果将组件中的【新增变量1】修改名字或类型，会导致节点图中的【设置自定义变量】节点因为无法找到对应变量而无法执行</p><p id="N84X1ZYZBb6Ts68SHeJwga" data-block-mark="{}"></p><p id="N1Q25FM_RlI44w8VDG7hVo" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/b863724b-7582-4199-9df9-2a85b1949165.png" style="width: 497px;aspect-ratio:3.7938931297709924;"></p><p id="NCgwxZPRW6GWwx-ejVK-9Q" data-block-mark="{}">【新增自定义变量】：可以新增一个或若干个执行类型的自定义变量</p><p id="N8vdvqmdgkBsXM6JG-RWsQ" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/03ac9809-defd-4ab2-8024-c1a341d46878.png" style="width: 496px;aspect-ratio:5.11340206185567;"></p><p id="NQtzerMFcJX2D_N6J-168Y" data-block-mark="{}">【其他功能】：关卡变量总览、筛选以及其他功能</p><p id="NeYMsEZJx30OujJq5u_X82" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/0eadc98c-17a3-44f2-a45b-46041cd53e74.png" style="width: 297px;aspect-ratio:1.879746835443038;"></p><p id="NMVrSXYo83uqzk6-k2x8rr" data-block-mark="{}">关卡自定义变量总览：可以查看当前关卡内所有实体上定义的自定义变量</p><p id="NAiYvu3_RG6OSZDG3cz1z4" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/e6363e65-6cf5-4597-829a-485701de03b0.png" style="width: 1504px;aspect-ratio:1.7347174163783161;"></p><p id="NPrQbBzvNQ1msvP218VKCA" data-block-mark="{}">筛选：可以按照类型筛选已定义的自定义变量</p><p id="NS_8QAJvRvrlCpM2TnolzM" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/7ec153b0-78a0-49e5-9f53-87cc4294156b.png" style="width: 302px;aspect-ratio:0.6863636363636364;"></p><p id="Nz3GaQKG0hmaW2oN2Gx-ZB" data-block-mark="{}">其他功能-批量删除：开启后可以批量删除自定义变量</p><p id="N3GVhRZgTeK_2vfmQD32ML" data-block-mark="{}">注意，与修改相同的是，删除组件中定义的自定义变量也可能会导致节点图中自定义变量相关节点无法执行</p><p id="NH9scwGtYxuHdN61b0wSpK" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/e0072cb8-b52b-4751-a6ed-d0c85b70491a.png" style="width: 332px;aspect-ratio:0.5451559934318555;"></p><p id="N4D2fMOWdQzN6-phc7kTSh" data-block-mark="{}"></p><h1 id="NniSrsoNcis8zPNPoyo4AO" class="no-font-size">四、在节点图中使用自定义变量</h1><h2 id="NEAuYDMqyaH0tdvElx2iWc" data-block-mark="{}" class="no-font-size">1.在服务端节点图中使用自定义变量</h2><p id="NGzq2DGwNb6geyr2keW6Ej" data-block-mark="{}"></p><p id="NZSAOXbxKIp-MRQiAy8YSc" data-block-mark="{&quot;bold&quot;:true,&quot;textStyle&quot;:{&quot;fontSize&quot;:&quot;19px&quot;,&quot;fontName&quot;:&quot;19px&quot;}}"><strong><span style="font-size: 19px;" fontName="19px">设置自定义变量</span></strong></p><p id="NkCP9zgCvR59r_x_iCIBA0"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/9d08b1c4-d42f-406c-8dcb-584982d2a3c1.png" style="width: 220px;aspect-ratio:0.676923076923077;"></p><p id="NKb4pGHBrF9eZaa7W6Oua_" data-block-mark="{}"><strong>节点类型</strong>：执行</p><p id="NgF5ZYcC8_IRyvO1uQiHwI" data-block-mark="{}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="Nndin-uf2GYHNBeIvFMgqh" listId="c114aa19" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="Nndin-uf2GYHNBeIvFMgqh" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">将目标实体上特定名字的自定义变量设置为指定的变量值</div></div><div class="prosemirror-list-new" data-node-id="N83OYJ5e0jlLaRffLwyird" listId="c114aa19" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N83OYJ5e0jlLaRffLwyird" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">要求目标实体上存在自定义变量组件，且有对应名字的变量值，否则节点无法正常执行</div></div><div class="prosemirror-list-new" data-node-id="N21jBNWnzyOQsukZvMSaeP" listId="c114aa19" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N21jBNWnzyOQsukZvMSaeP" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">该节点支持泛型输入</div></div><p id="NpjNYpvo3oBty6v8mQWaFY" data-block-mark="{}"></p><p id="NwoBF-R-BvLL6DZ7FqaVVv" data-block-mark="{}"><strong>节点参数</strong></p><div class="table-wrapper"><table id="NSZM7gV5mVyxFXC2e-KewJ" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:705px;" border="1" cellspacing="0"><colgroup><col style="width: 116px;"><col style="width: 146px;"><col style="width: 131px;"><col style="width: 311px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="N7pSBUHKV5EvFCgKnRs7Yj" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="116"><p id="N6lgBLMtUOkn8hqJPF0D5h" data-block-mark="{&quot;bold&quot;:true}"><strong>参数类型</strong></p></td><td id="NqRTeF6MayNKRwCiEq_0R8" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="146"><p id="N60d8pIujss2hgd4rBazmo" data-block-mark="{&quot;bold&quot;:true}"><strong>参数名</strong></p></td><td id="NFvC7wqCYOzgyl0WC7Iu0Z" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="131"><p id="NlgZHowxUwrTIAg6q512KN" data-block-mark="{&quot;bold&quot;:true}"><strong>类型</strong></p></td><td id="N41gTLwEn4LGmHADHkH6sM" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="311"><p id="NNXbRbbQgM0jjko3JwPcpJ" data-block-mark="{&quot;bold&quot;:true}"><strong>说明</strong></p></td></tr><tr class="table-row"><td id="NIbvbgqEA-0r3oy6u26QdO" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="116"><p id="N5guTIZwg88-0ukqymxgn_" data-block-mark="{}">入参</p></td><td id="NsDLh0jnCpp4nspKqrE-KY" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="146"><p id="NpAFTMNCfBWj54HBoIehCu" data-block-mark="{}">目标实体</p></td><td id="NILbodF0BMmLVw6AT4nMRE" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NuBROsNbVv1dRuQe-FX6FA" data-block-mark="{}">实体</p></td><td id="NY-f68gT3L2_rSwScipMD9" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NOaVB7L2tSYA1JpSmfDbm8" data-block-mark="{}">设置自定义变量的目标实体</p></td></tr><tr class="table-row"><td id="NP5xC8lE8LHvF8pbvR9lUe" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="116"><p id="Nm2obttTJ5dDrhgHEH9E7Y" data-block-mark="{}">入参</p></td><td id="NJAq8Y-mkO9lpIGqUY4ooA" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="146"><p id="N62EfX8HBAIvg5le2f126v" data-block-mark="{}">变量名</p></td><td id="NDGGxzKe-gKZpylhspqr4Z" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NylnI_t0XOTbTL8OJB2QWj" data-block-mark="{}">字符串</p></td><td id="NmZwZzpEYc353uuCUYD-wy" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NxUtcIqW8Tk2Br6Nw73Y2X" data-block-mark="{}">需要设置值的自定义变量名</p></td></tr><tr class="table-row"><td id="NbRsvYlfAkYwWt0HdO9YJ6" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="116"><p id="NUU64cIk0R1qerb_HmbYZ-" data-block-mark="{}">入参</p></td><td id="NbhCDfrHobkZgsbRi7TxL0" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="146"><p id="Npa1ovp-Ti9JNNU9vKH4fE" data-block-mark="{}">变量值</p></td><td id="NFqWQQwpmljnvUESD6nGiG" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NMGhpjf8JXZkr-iVV0N_oX" data-block-mark="{}">泛型</p></td><td id="NW15W6hSDwkqXFzERlhBAE" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NGwoMv4ZfgGoD-BEVEcq85" data-block-mark="{}">需要设置的变量值。支持泛型输入</p></td></tr><tr class="table-row"><td id="N-rBzMQrRQBrXp4X5oE_Vi" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="116"><p id="NXeKTn_CRGlglj0A8aUG77" data-block-mark="{}">入参</p></td><td id="NnE3pPHZwMs4ZvvUFCUhfq" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="146"><p id="Nnuk-xGaUYxOLVnu_QCvNv" data-block-mark="{}">是否触发事件</p></td><td id="N_zuPoOqTjb99C5e73Fd0x" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="N0geibKtT8wYGLxLw5OR8W" data-block-mark="{}">布尔值</p></td><td id="N9i1lJxLxMv5kdVK6VQbmP" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NLoWT9RaX2-jUWs96onP_6" data-block-mark="{}">当该值为【是】时，会触发【自定义变量变化时】事件</p></td></tr></tbody></table></div><p id="NKT9sFnqnelNC-Kl_PKitI" data-block-mark="{}"></p><p id="NYfGHtCKHWh12mKrVz0JiH" data-block-mark="{&quot;textStyle&quot;:{&quot;fontSize&quot;:&quot;19px&quot;,&quot;fontName&quot;:&quot;19px&quot;}}"><strong><span style="font-size: 19px;" fontName="19px">获取自定义变量</span></strong></p><p id="NbGV0kwOGME8ibi2vs2_9g"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/77417114-fb99-4546-925b-1a6c29a1bb31.png" style="width: 306px;aspect-ratio:1.7790697674418605;"></p><p id="NYOarn87pK1rzL7BQUH2uK" data-block-mark="{}"><strong>节点类型</strong>：查询</p><p id="NEMnA2zhXWOEtyPgQCsWPX" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="N4TsjHDYdTlBwNDbXDfeGB" listId="db9ee359" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N4TsjHDYdTlBwNDbXDfeGB" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">获取目标实体上特定名字的自定义变量值</div></div><div class="prosemirror-list-new" data-node-id="NCFzn75lIM3jHWnjwtgcxH" listId="db9ee359" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NCFzn75lIM3jHWnjwtgcxH" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">需要目标实体上有自定义变量组件，且有对应名字的自定义变量</div></div><div class="prosemirror-list-new" data-node-id="N-C7oP-jh7S7VbWY08CoEI" listId="db9ee359" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="N-C7oP-jh7S7VbWY08CoEI" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">该节点输出参数类型为泛型，需要连线确定泛型后使用</div></div><p id="Nc82BZG5Ff2366cyqztTre" data-block-mark="{}"></p><p id="NTfwUv1k-FaH3N3zXqhBdi" data-block-mark="{}"><strong>节点参数</strong></p><div class="table-wrapper"><table id="NRpCO_24ewMCHMB32QqLwz" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:707px;" border="1" cellspacing="0"><colgroup><col style="width: 131px;"><col style="width: 128px;"><col style="width: 136px;"><col style="width: 311px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="N_HFAcLgE4q-ZPReA4_P3W" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="131"><p id="NQCQkhoGHnFa2-sow6KMSh" data-block-mark="{&quot;bold&quot;:true}"><strong>参数类型</strong></p></td><td id="NcaOEkrXlQBhp-kRh3hs5B" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="128"><p id="NsPXE_C9-Jb__9QNkKTIvu" data-block-mark="{&quot;bold&quot;:true}"><strong>参数名</strong></p></td><td id="N13vC-9IsMeoELxm13omOu" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="136"><p id="NLrnRJOeYxPbBuLhRgw4iV" data-block-mark="{&quot;bold&quot;:true}"><strong>类型</strong></p></td><td id="Nqz1M8pya0mFnxEDJVhsaP" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="311"><p id="No0a8dcvjTeywmmnRsPvzN" data-block-mark="{&quot;bold&quot;:true}"><strong>说明</strong></p></td></tr><tr class="table-row"><td id="NaIBlMDVgukthBzH9xbMme" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NeaCYXPplAszOBUdsHFHli" data-block-mark="{}">入参</p></td><td id="Nk5DT4zBBLuhdk59QWvukI" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="128"><p id="N1DQXlbWzoxIXX-uxcwk4W" data-block-mark="{}">目标实体</p></td><td id="Ng3gi4N7fQXJK8JIb179Ct" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="136"><p id="NRTyTMsneyw54ikidbclgX" data-block-mark="{}">实体</p></td><td id="NSgfBxJ5AumXBmAphwIZE9" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NYQmJRqNFa9cgBSoOgqKuA" data-block-mark="{}">获取自定义变量的目标实体</p></td></tr><tr class="table-row"><td id="NIMBa93zhnHWU10-9YmDjy" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NSA-MFtmpzWkL5ZdFimFnL" data-block-mark="{}">入参</p></td><td id="NbwgZz2Lvkj_hXbmp11LFi" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="128"><p id="NhnMsTT4GwtpVq3QU5ylP9" data-block-mark="{}">变量名</p></td><td id="NnOkyJYTBqFP6v_oHmbo7b" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="136"><p id="NuXIaWd4H6rDhqoGKO71Nz" data-block-mark="{}">字符串</p></td><td id="NCOsUlfQHMhf5lWGPmdWH3" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="N-goxgjZMga_5FfaFkPMob" data-block-mark="{}">需要获取的自定义变量名</p></td></tr><tr class="table-row"><td id="NB9_QGM5Yx7_mT3K7JnNMk" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NP-g4AFhKu9hs6-JS0cVCO" data-block-mark="{}">出参</p></td><td id="N8CofdnZhUv-EMGTXpEXG_" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="128"><p id="N7y8IfhGxzqoZP6NIwjUCH" data-block-mark="{}">变量值</p></td><td id="N3Y2ldb1vwA4pi708YeJAT" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="136"><p id="Nwfs-iIjrHdUEsVcZ0vwGj" data-block-mark="{}">泛型</p></td><td id="NpaIwtvAQiFotFZzYWH3Tq" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NwHXMWm_v_LyFkVNNhzG3u" data-block-mark="{}">查询到的变量值，泛型输出，需要通过连线或手动确定泛型后使用</p></td></tr></tbody></table></div><p id="NEH4-yfIoflGU2DE-6nrXs" data-block-mark="{}"></p><p id="N_K3FnwNOgAMPHr_GpKFXC" data-block-mark="{&quot;bold&quot;:true,&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;&quot;,&quot;fontFamily&quot;:&quot;&quot;,&quot;fontSize&quot;:&quot;19px&quot;,&quot;fontName&quot;:&quot;19px&quot;}}"><strong><span style="font-size: 19px;" fontName="19px">自定义变量变化时</span></strong></p><p id="NS_9cAMHUtr3WHxMZnV7zb"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/0a4441b2-ba37-4b3e-b8ee-6095685c1666.png" style="width: 192px;aspect-ratio:0.6442953020134228;"></p><p id="N9AGTzPl4Xh1AiAGpLsx-b" data-block-mark="{}"><strong>节点类型</strong>：事件</p><p id="NdR1qjazff0EHVeEwA322l" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><div class="prosemirror-list-new" data-node-id="NxBEcSSeIUG7Vj4ahO2TQe" listId="edcfc2f7" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="NxBEcSSeIUG7Vj4ahO2TQe" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">当节点图所挂载的实体上自定义变量的值发生变化时，节点图中会收到该事件</div></div><div class="prosemirror-list-new" data-node-id="Nwy3L7h2TPLrA7M9EqSE5D" listId="edcfc2f7" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="Nwy3L7h2TPLrA7M9EqSE5D" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">需要注意的是，只要自定义变量发生任意形式的修改就会触发该事件，即使修改前后值相同也会推送</div></div><p id="NSDym46jn6GnJhKxUZl74t" data-block-mark="{}">例如：某自定义变量的值为3（整数），使用【设置自定义变量】节点将其值再次设置为3，仍然会触发该事件（该事件的旧值和新值均为3）</p><div class="prosemirror-list-new" data-node-id="Nie41xIktDB03hkb4qJV4z" listId="272ffbd7" data-list-kind="bullet" data-list-indent="1" data-list-style="&apos;\e69c&apos;:0|&apos;\e69c&apos;:0|&apos;\e69c&apos;:0" style="--list-indent: 1;--list-type: &apos;\e69c&apos;;--list-content: &apos;\e69c&apos;;--ordered-list-index-size: 16px;--bullet-list-index-size: 8px;" id="Nie41xIktDB03hkb4qJV4z" data-block-mark="{}"><div class="list-marker list-marker-click-target" contenteditable="false"></div><div class="list-content">所有自定义变量的变化都会推送该事件，因此推荐使用类似下图的做法对需要监听的变量名进行筛选</div></div><p id="NoBdBnsjuc_lW5u92e9MIG" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/7ad2254a-fe84-45f0-b0ad-3aaa28c2c83b.png" style="width: 637px;aspect-ratio:2.1815068493150687;"></p><p id="NsyOzxm5fIAv3SXCLFuJYL" data-block-mark="{}">需要特别注意的是，所有<span style="color: rgba(251,44,54,1)">容器数据类型</span>的自定义变量变化事件中不会包含该变化的<span style="color: rgba(53,64,186,1)"><em>旧值</em></span>和<span style="color: rgba(53,64,186,1)"><em>新值</em></span>，需要额外使用获取自定义变量节点来获取变化后的值</p><p id="NH4G7shT7NW-WevjGnya8S" data-block-mark="{}">容器数据类型包括：所有<span style="color: rgba(251,44,54,1)">列表数据类型</span>、所有<span style="color: rgba(251,44,54,1)">字典数据类型</span>以及所有<span style="color: rgba(251,44,54,1)">结构体数据类型</span></p><p id="N42CnLsp7qSHJ2i9hCWBiC" data-block-mark="{}">如下图所示</p><p id="NHdOF_AaBjj4sRhUq6wmYQ" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/77846cbf-50b5-49f8-a56b-b33c2a01fba8.png" style="width: 479px;aspect-ratio:0.9247104247104247;"></p><p id="NKxokKirkygHgdak6WY7bq" data-block-mark="{}"><strong>节点参数</strong></p><div class="table-wrapper"><table id="Nkbup_A_ay9a76WP3t0v-Y" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:737px;" border="1" cellspacing="0"><colgroup><col style="width: 145px;"><col style="width: 149px;"><col style="width: 131px;"><col style="width: 311px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="NtSb3kGMWTGEqAFgqru7AW" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="145"><p id="Njb7_ONRBW93VIPuObkUPy" data-block-mark="{&quot;bold&quot;:true}"><strong>参数类型</strong></p></td><td id="NWWQpkafbX4NqKteLvgy8j" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="149"><p id="NLv4xeyMbFUWKSQmn2unoq" data-block-mark="{&quot;bold&quot;:true}"><strong>参数名</strong></p></td><td id="NuIw4Sdbhofo24c-ACD2JR" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="131"><p id="Nu4ijXqXiOLuRQlCyQVBl_" data-block-mark="{&quot;bold&quot;:true}"><strong>类型</strong></p></td><td id="NIR6CYID0ImBHTOkTd1jmI" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="311"><p id="NZqAAUUNkIdMiSUQIl93Qo" data-block-mark="{&quot;bold&quot;:true}"><strong>说明</strong></p></td></tr><tr class="table-row"><td id="NzxRBkdk80vuXQ7a_CNbZO" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="145"><p id="NtcolKR5eyL8Yfbc9Iu_Mf" data-block-mark="{}">出参</p></td><td id="NuSKNMEKGHCdvM_DQfq9OQ" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="149"><p id="NXBr0O4nlaDl6uY-pVoI1y" data-block-mark="{}">事件源实体</p></td><td id="NbBqiHrY62B0kmkfnByRay" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NQ6aL_okXwC0OJX8pdAl_w" data-block-mark="{}">实体</p></td><td id="Nn-6TU41T0c2rn7W7UX5ta" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NGpXcwFzqOq4IuHsCWYv1c" data-block-mark="{}">事件通用参数，事件触发者的实体</p></td></tr><tr class="table-row"><td id="NxI9mZ2re7kMRw2nh5SAR9" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="145"><p id="NcXIk0sq3_IILybOO37poO" data-block-mark="{}">出参</p></td><td id="NSmB_mf5c3JAqR9V3_umGN" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="149"><p id="NPK7Ys1utC__ldv6HG03pJ" data-block-mark="{}">事件源GUID</p></td><td id="NRSVpzPlyShi0ZzzC2aTSH" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NfIdHzotNJvCgiqJomtB5Z" data-block-mark="{}">GUID</p></td><td id="NAiThX7O8i2-hTimG75X0_" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="N46azQKy6eanKY3BuXngaE" data-block-mark="{}">事件通用参数，事件触发者的实体GUID</p></td></tr><tr class="table-row"><td id="Np2rOre44K0zo__IlqTDsK" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="145"><p id="NMsntIePp4Qzjz-uqPvSw_" data-block-mark="{}">出参</p></td><td id="N3LsmIGaTlk5hPiT3GzdfE" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="149"><p id="NAHKdHK5eixDV30h2pgXLC" data-block-mark="{}">变量名</p></td><td id="NH6TW1sH1m2p0MqEfpR-75" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NughrwmjgGKpBK5jzy89Rt" data-block-mark="{}">字符串</p></td><td id="NiEJ4N-tOCG548EsX0Mhpe" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="N0cF3DwhzrX16bfT2LLTwz" data-block-mark="{}">发生变化的变量名</p></td></tr><tr class="table-row"><td id="NmSnUBA4hsWITTQ1DPjZzG" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="145"><p id="NR4POj5f8qFifSnGaam3LN" data-block-mark="{}">出参</p></td><td id="N75P5CvN0EhlwZ0gxV0heY" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="149"><p id="Ngh0c0kIbgRdUb3K9vCj4-" data-block-mark="{}">旧值</p></td><td id="NkGXphHV9Ld1YRvDWyce5G" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NwgFvu0TrxcmB3w3YLfmJ4" data-block-mark="{}">泛型</p></td><td id="N9KNkgBUEtyujc8r_Y7Ew9" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NFOcwFrSxkhKb6OUYeLS6D" data-block-mark="{}">该自定义变量变化前的值</p></td></tr><tr class="table-row"><td id="NmZazemq5YEc0Wrevp_wWE" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="145"><p id="N8i2izYRaUzgcw8_0xAkce" data-block-mark="{}">出参</p></td><td id="N6E3P6HBAqL6PhJ52jvFvZ" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="149"><p id="NgZn7nRHm9Ub6OZq0PCH4m" data-block-mark="{}">新值</p></td><td id="NFYa4pTtMSi80RZvL2Xof9" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="131"><p id="NzAuMspoA3hWAUgShjttIV" data-block-mark="{}">泛型</p></td><td id="NXwEeoxzrzEGOuGjd-iVjk" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="No77sA_xSG1rHf9TgVhR__" data-block-mark="{}">该自定义变量变化后的值</p></td></tr></tbody></table></div><p id="NOPVV3qQ4kbBp-XGkjGFTJ" data-block-mark="{}"></p><h2 id="NEf3cD46LHUXyKv-86jWex" data-block-mark="{}" class="no-font-size">2.在本地节点图中使用自定义变量</h2><p id="NmxMXz06jjB54muAjc1aww" data-block-mark="{}"><strong><span style="font-size: 19px;" fontName="19px">获取自定义变量</span></strong></p><p id="NIJsnDF-7whh02LwDGc3s-"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/627e692d-56e6-4aaa-97ae-4ca371c78797.png" style="width: 306px;aspect-ratio:1.7790697674418605;"></p><p id="NqfN88muZLe5tg4EaMJ7y7" data-block-mark="{}"><strong>节点类型</strong>：查询</p><p id="N30K7uMsVIIdDcAUoQGXHR" data-block-mark="{&quot;bold&quot;:true}"><strong>节点功能</strong></p><p id="N675ITH9X8ujiYbXHK6Bhf" data-block-mark="{}">-获取目标实体上特定名字的自定义变量值</p><p id="NV4cPjn5DHGRj8v7IUfQvw" data-block-mark="{}">-需要目标实体上有自定义变量组件，且有对应名字的自定义变量</p><p id="Nyy2zdi3lv9mxmiZ45g_K-" data-block-mark="{}"></p><p id="Nlr3_VuwFE3_BpzQRgKJBa" data-block-mark="{}"><strong>节点参数</strong></p><div class="table-wrapper"><table id="NyuurpaOnvCpyQZ4_wG9TA" minWidth="66" class="table-wrapper" style="font-size: 16px; border-collapse: collapse;; vertical-align: top;; width:690px;" border="1" cellspacing="0"><colgroup><col style="width: 130px;"><col style="width: 139px;"><col style="width: 109px;"><col style="width: 311px;"></colgroup><tbody style="vertical-align: top"><tr class="table-row"><td id="N8z8Akv6Xn0b7ezMGMB0t-" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="130"><p id="NyzHYBOzaJJ51zlMhOv55-" data-block-mark="{&quot;bold&quot;:true}"><strong>参数类型</strong></p></td><td id="N7Z1APTZ2_ZttMTo4Rtd33" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="139"><p id="NuEuf5Tp6dXivgUOwP08X9" data-block-mark="{&quot;bold&quot;:true}"><strong>参数名</strong></p></td><td id="NIpFBXnUKBNPaTkKO-IvxE" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="109"><p id="N1FkNKmq5ASt7_Fb_I3CyJ" data-block-mark="{&quot;bold&quot;:true}"><strong>类型</strong></p></td><td id="NBFfr25MVn3pAmwSM1rTFc" data-block-mark="{&quot;bold&quot;:true}" colspan="1" rowspan="1" data-colwidth="311"><p id="NkTSECHNOKPrNx5yFiurkJ" data-block-mark="{&quot;bold&quot;:true}"><strong>说明</strong></p></td></tr><tr class="table-row"><td id="N8eEsXiw7Z1sLyLp8xVK3j" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="130"><p id="NNo5zp02IKNTQmXP8EDzGX" data-block-mark="{}">入参</p></td><td id="NvlRFHl_Ic4lE4lZuXvYj8" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="139"><p id="N7Y6FORPIC4HrlZDfsdOPa" data-block-mark="{}">目标实体</p></td><td id="N-g-e-40yNKLUNUwU9pG60" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="109"><p id="NBqtkCz5F8x3QwoysEYF1r" data-block-mark="{}">实体</p></td><td id="NCHqYvQrxqFKPrA6ZOmcX1" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NQMtU0CcMTlM_22E1QaX3j" data-block-mark="{}">获取自定义变量的目标实体</p></td></tr><tr class="table-row"><td id="N1ACt2nsoYO1NvqZdmfuBd" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="130"><p id="NQLoBPLbySfaQCvDTs2INm" data-block-mark="{}">入参</p></td><td id="NfalqIySev1zOdbKPzRM0F" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="139"><p id="NmMnXqHgiRmHwU261S8nVg" data-block-mark="{}">变量名</p></td><td id="NcEf5AMdiTfOOQYOhE9Cq6" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="109"><p id="Nl9tiePBxyYovS6HHHsOIl" data-block-mark="{}">字符串</p></td><td id="NbbWt7IfCrACg-sUx62saQ" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NwhZvRYSdNZgVgFWoET1JB" data-block-mark="{}">需要获取的自定义变量名</p></td></tr><tr class="table-row"><td id="Nb2Y-xckDnQ2nG1O-7g7Lg" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="130"><p id="NCMx-jJB7JW4TCGgu5J6cB" data-block-mark="{}">出参</p></td><td id="NmByJK8uoQ_4IZGbuAR_AS" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="139"><p id="NQrc5_ZVMEs-PN5CU-AX3M" data-block-mark="{}">变量值</p></td><td id="NfD955Wo7IbFK-8P2Ilrag" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="109"><p id="N3-WJDRVtrtpJOCw_BfAzX" data-block-mark="{}">泛型</p></td><td id="N0vp8MkDaqctDAveW-n6oX" data-block-mark="{}" colspan="1" rowspan="1" data-colwidth="311"><p id="NQxHRT0c0DPy7NNS9eFFOJ" data-block-mark="{}">查询到的变量值，泛型输出，需要通过连线或手动确定泛型后使用</p></td></tr></tbody></table></div><p id="NpJkddydcQCAT45EXMh58M" data-block-mark="{}"></p><h1 id="NZxBldBAH16uo0dnUXSxXG" data-block-mark="{}" class="no-font-size">五、自定义变量的运行时细节</h1><h2 id="NZoh-7uJ_tghHR2W-t29LG" data-block-mark="{}" class="no-font-size">自定义变量与容器类型</h2><p id="NXju-lUZaTxLRBMKivt5Bh" data-block-mark="{}"></p><p id="NcXAFi9zIwpWdaKXOvSv25" data-block-mark="{}">节点图中的<span style="color: rgba(251,44,54,1)"><em>容器数据</em></span>类型的自定义变量有着较为特殊的引用传值的性质</p><p id="NHIaRY70gHFg-nZeY_T5Gc" data-block-mark="{}">容器数据类型包括：所有<span style="color: rgba(251,44,54,1)"><em>列表数据类型</em></span>、所有<span style="color: rgba(251,44,54,1)"><em>字典数据类型</em></span>以及所有<span style="color: rgba(251,44,54,1)"><em>结构体数据类型</em></span></p><p id="NFhIqZMnbqHj56unHQwN1G" data-block-mark="{&quot;textStyle&quot;:{&quot;backgroundColor&quot;:&quot;&quot;,&quot;color&quot;:&quot;rgba(24,26,35,1)&quot;,&quot;fontFamily&quot;:&quot;&quot;,&quot;fontSize&quot;:&quot;&quot;,&quot;fontName&quot;:null}}"><span style="color: rgba(24,26,35,1)">下文以列表数据类型为例</span></p><p id="NJPFCPdFj9FHo_OSn4Uha3" data-block-mark="{}">见下图：</p><p id="N0rp5FbJf8RIB9WL-LfGHR" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/291aaa7a-e3a6-40b2-8dd5-f504dede3a35.png" style="width: 1328px;aspect-ratio:1.970326409495549;"></p><p id="NZI144Pu75Tyo4JFItuRDv" data-block-mark="{}">在执行完上述流程后，【测试列表】这个自定义变量的值会变为{1，3，5，7}</p><p id="NfgBwG7WqMyeh4YzgH_Bc3" data-block-mark="{}">我们可以发现，【对列表插入值】、【列表排序】这两个节点在实际上改变了自定义变量中的值。</p><p id="N3XanZVeR5WaR0Ye1KX3Td" data-block-mark="{}">这种方式我们称为【引用传值】。即当【获取自定义变量】节点获取的变量值类型为列表时，输出的是自定义变量中存储的列表的引用（而不是值），后续对其进行修改都会导致自定义变量内存储的列表的修改</p><p id="NISGbTek6pO3RvMg5OqtEH" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/8416a336-9433-48dc-bb63-1764a4def2c4.png" style="width: 353px;aspect-ratio:1.7053140096618358;"></p><p id="NiwNb404fNAok2GC6x-Pw9" data-block-mark="{}">另外需要注意的是，这里的修改不会导致【自定义变量变化时】事件触发（该事件只有【设置自定义变量】节点可以触发）</p><p id="NL0un9slLMI7SXgdvNphK9" data-block-mark="{}">与之相对比的可以见下图</p><p id="N5L5yHFPqe8gqGWsNej_5T" data-block-mark="{}">【加法运算】节点不会修改【测试值】这个自定义变量的值，因此打印出来的自定义变量值仍然为5（而不是加法运算后的10）</p><p id="NkUAMHWILjMTYe3IjPjSpz" data-block-mark="{}">这就是典型的【值传递】，即【获取自定义变量】的出参输出的是自定义变量中存储的变量的值，因此修改这个值不会影响到组件内存储的自定义变量自身的值</p><p id="NVma_LCc-xyZbde3x0VtQm" data-block-mark="{}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/b96ac821-b361-43e9-87c9-ed10eee83002.png" style="width: 1120px;aspect-ratio:2.955145118733509;"></p><p id="NKst8F74o4a7VecZWyF26R" data-block-mark="{}">总而言之，节点图中<strong>对容器类型自定义变量的操作，会导致自定义变量的值发生变化，而非容器类型的操作则不会</strong></p><p id="Nvb5pSIOqHrupjletoe1jO" data-block-mark="{&quot;bold&quot;:false}">此外，容器数据类型的<span style="color: rgba(89,111,254,1)"><em>自定义变量变化时</em></span>事件中的<span style="color: rgba(89,111,254,1)"><em>旧值</em></span>和<span style="color: rgba(89,111,254,1)"><em>新值</em></span>出参<strong>是没有值的</strong>，需要通过<span style="color: rgba(89,111,254,1)"><em>获取自定义变量</em></span>节点来获取变化后的值</p><p id="NCKzpwnIdXVgV267h7OIjD" data-block-mark="{&quot;bold&quot;:true}"><img src="https://act-webstatic.hoyoverse.com/ugc-tutorial/knowledge/sea/zh-cn/mhso1b9wjica/98f5aada-b452-47ca-a6eb-e8c09c64fd06.png" style="width: 486px;aspect-ratio:0.9473684210526315;"></p><p id="NRK4Wi8iRXAsWL10SYsIfB" data-block-mark="{}"></p><p id="NoCm91POGkqj5FmgiACNRV" data-block-mark="{}"></p><p id="N-hC0i4IwrYJskm_oC7s1Y" data-block-mark="{}"></p>